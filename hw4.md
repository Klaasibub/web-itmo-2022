## Бизнес сценарий
Есть система видеоаналитики по людям (распознавание пола, возраста, эмоций, проверка по black-/whitelists)  
Я, как владелец Retail сети, хочу использовать данную систему и собирать и визуализировать статистику, чтобы знать, кто мой покупатель.

Выбор основной БД - Clickhouse
## Сравнение с аналогами
  - Elasticsearch
  - Clickhouse
  - MongoDB


### Elasticsearch
NoSQL База данных, которая имеет широкое применение в области сбора логов и метрик в составе ELK Stack'а.  
Из достоинств можно отметить, что данная база имеет свой гибкий инструмент визуализации в realtime - Kibana, но также может взаимодействовать и с другими.  
Также, эта БД легко шардируется и горизонтально масштабируется, легко менеджатся индексы поиска и горячие/холодные хранилища через web интерфейс.  


### Clickhouse
Столбцовая OLAP СУБД, хорошо подходит под данную задачу, так как:
- не требует транзакций;
- подавляющее число запросов будет исключительно на чтение (построение аналитики только по некоторым столбцам);
- данные добавляются в БД, но не изменяются;
- как и elasticsearch легко масштабируется горизонтально.
- интегрируется с инструментами визуализации, такими как Graphana, Tableau, Power BI и др.

### MongoDB
Довольно популярная nosql документо-ориентированная БД, часто используется как в малых, так и в больших продуктах.  
Однако, если взглянуть на сравнение её с Clickhouse, можно заметить, что хоть на малых данных Mongo и выигрывает, то на сотнях тысяч, запросы на чтение (преобладающие) становятся в десятки раз медленнее.

## Вспомогательные БД
### Redis
Key-Value БД, хранящая данные в оперативной памяти, и за счёт этого позволяет быстро обращаться к данным, однако много данных в данной БД не уместить.  
Как вариант, можно использовать для хранения информации об ongoing'ах (событиях, которые еще не закончились, но еще важны).  
Также можно использовать для кеширования пользовательских данных.

### Postgres
Классическая SQL БД, может использоваться в системе для хранения данных юзеров, ролей и тд (то есть более статичных и структурированных данных).
